// translations.js - Language translation system for JBR7 Bags

const translations = {
    en: {
        // Settings Menu
        'language_menu': 'Language',
        'language_settings': 'Language',
        'select_language': 'Select Language',
        'language_note': 'Changing the language will update all text throughout the system.',
        
        // Common
        'home': 'Home',
        'explore': 'Explore',
        'saved': 'Saved',
        'cart': 'Cart',
        'contact_us': 'Contact Us',
        'settings': 'Settings',
        'search': 'Search',
        'notifications': 'Notifications',
        'messages': 'Messages',
        'profile': 'Profile',
        
        // Settings Sections
        'account': 'Account',
        'notifications': 'Notifications',
        'privacy_security': 'Privacy & Security',
        'payment_methods': 'Payment Methods',
        'shipping_addresses': 'Shipping Addresses',
        'couriers': 'Couriers',
        'help_support': 'Help & Support',
        
        // Account
        'account_information': 'Account Information',
        'full_name': 'Full Name',
        'email_address': 'Email Address',
        'phone_number': 'Phone Number',
        'save_changes': 'Save Changes',
        'change_password': 'Change Password',
        'current_password': 'Current Password',
        'new_password': 'New Password',
        'confirm_password': 'Confirm New Password',
        'update_password': 'Update Password',
        
        // Notifications
        'notification_preferences': 'Notification Preferences',
        'push_notifications': 'Push Notifications',
        'order_status': 'Order Status',
        'order_status_desc': 'Real-time updates on your orders',
        'cart_reminder': 'Cart Reminders',
        'cart_reminder_desc': 'Get reminded about items left in your cart',
        
        // Privacy
        'login_history': 'Login History',
        'data_privacy': 'Data & Privacy',
        'download_data': 'Download Your Data',
        'request_data': 'Request Data',
        'delete_account': 'Delete Account',
        'refresh_history': 'Refresh History',
        
        // Payment
        'default_payment': 'Set Default',
        'add_payment': 'Add Payment Method',
        'save_preferences': 'Save Preferences',
        
        // Shipping
        'add_new_address': 'Add New Address',
        'set_as_default': 'Set as Default',
        'edit': 'Edit',
        'delete': 'Delete',
        'default': 'Default',
        
        // Footer
        'about_us': 'About Us',
        'products': 'Products',
        'contact': 'Contact',
        'quick_links': 'Quick Links',
        'contact_info': 'Contact Info',
        'follow_us': 'Follow Us',
        
        // Buttons
        'logout': 'Log Out',
        'cancel': 'Cancel',
        'save': 'Save',
        'close': 'Close',
        
        // Messages
        'language_updated': 'Language updated successfully',
        'loading': 'Loading...',
        'no_data': 'No data found',
        
        // Placeholders
        'enter_full_name': 'Enter full name',
        'enter_email': 'Enter email address',
        'enter_phone': 'Enter phone number',
        'enter_current_password': 'Enter current password',
        'enter_new_password': 'Enter new password',
        'confirm_new_password': 'Confirm new password'
    },
    
    fil: {
        // Settings Menu
        'language_menu': 'Wika',
        'language_settings': 'Wika',
        'select_language': 'Pumili ng Wika',
        'language_note': 'Ang pagpapalit ng wika ay mag-u-update ng lahat ng teksto sa buong sistema.',
        
        // Common
        'home': 'Home',
        'explore': 'Tuklasin',
        'saved': 'Naka-save',
        'cart': 'Cart',
        'contact_us': 'Makipag-ugnayan',
        'settings': 'Mga Setting',
        'search': 'Maghanap',
        'notifications': 'Mga Abiso',
        'messages': 'Mga Mensahe',
        'profile': 'Profile',
        
        // Settings Sections
        'account': 'Account',
        'notifications': 'Mga Abiso',
        'privacy_security': 'Privacy & Security',
        'payment_methods': 'Mga Paraan ng Pagbabayad',
        'shipping_addresses': 'Mga Address ng Pagpapadala',
        'couriers': 'Mga Courier',
        'help_support': 'Tulong & Suporta',
        
        // Account
        'account_information': 'Impormasyon ng Account',
        'full_name': 'Buong Pangalan',
        'email_address': 'Email Address',
        'phone_number': 'Numero ng Telepono',
        'save_changes': 'I-save ang mga Pagbabago',
        'change_password': 'Palitan ang Password',
        'current_password': 'Kasalukuyang Password',
        'new_password': 'Bagong Password',
        'confirm_password': 'Kumpirmahin ang Bagong Password',
        'update_password': 'I-update ang Password',
        
        // Notifications
        'notification_preferences': 'Mga Kagustuhan sa Abiso',
        'push_notifications': 'Push Notifications',
        'order_status': 'Status ng Order',
        'order_status_desc': 'Real-time na update sa inyong mga order',
        'cart_reminder': 'Mga Paalala sa Cart',
        'cart_reminder_desc': 'Makatanggap ng paalala tungkol sa mga item na naiwan sa cart',
        
        // Privacy
        'login_history': 'Kasaysayan ng Pag-login',
        'data_privacy': 'Data & Privacy',
        'download_data': 'I-download ang Inyong Data',
        'request_data': 'Humiling ng Data',
        'delete_account': 'Tanggalin ang Account',
        'refresh_history': 'I-refresh ang Kasaysayan',
        
        // Payment
        'default_payment': 'Itakda bilang Default',
        'add_payment': 'Magdagdag ng Paraan ng Pagbabayad',
        'save_preferences': 'I-save ang mga Kagustuhan',
        
        // Shipping
        'add_new_address': 'Magdagdag ng Bagong Address',
        'set_as_default': 'Itakda bilang Default',
        'edit': 'I-edit',
        'delete': 'Tanggalin',
        'default': 'Default',
        
        // Footer
        'about_us': 'Tungkol sa Amin',
        'products': 'Mga Produkto',
        'contact': 'Makipag-ugnayan',
        'quick_links': 'Mga Mabilisang Link',
        'contact_info': 'Impormasyon ng Kontakto',
        'follow_us': 'Sundan Kami',
        
        // Buttons
        'logout': 'Mag-logout',
        'cancel': 'Kanselahin',
        'save': 'I-save',
        'close': 'Isara',
        
        // Messages
        'language_updated': 'Matagumpay na na-update ang wika',
        'loading': 'Naglo-load...',
        'no_data': 'Walang nahanap na data',
        
        // Placeholders
        'enter_full_name': 'Ilagay ang buong pangalan',
        'enter_email': 'Ilagay ang email address',
        'enter_phone': 'Ilagay ang numero ng telepono',
        'enter_current_password': 'Ilagay ang kasalukuyang password',
        'enter_new_password': 'Ilagay ang bagong password',
        'confirm_new_password': 'Kumpirmahin ang bagong password'
    },
    
    es: {
        // Settings Menu
        'language_menu': 'Idioma',
        'language_settings': 'Idioma',
        'select_language': 'Seleccionar Idioma',
        'language_note': 'Cambiar el idioma actualizará todo el texto en todo el sistema.',
        
        // Common
        'home': 'Inicio',
        'explore': 'Explorar',
        'saved': 'Guardados',
        'cart': 'Carrito',
        'contact_us': 'Contáctanos',
        'settings': 'Configuración',
        'search': 'Buscar',
        'notifications': 'Notificaciones',
        'messages': 'Mensajes',
        'profile': 'Perfil',
        
        // Settings Sections
        'account': 'Cuenta',
        'notifications': 'Notificaciones',
        'privacy_security': 'Privacidad y Seguridad',
        'payment_methods': 'Métodos de Pago',
        'shipping_addresses': 'Direcciones de Envío',
        'couriers': 'Mensajerías',
        'help_support': 'Ayuda y Soporte',
        
        // Account
        'account_information': 'Información de la Cuenta',
        'full_name': 'Nombre Completo',
        'email_address': 'Dirección de Correo',
        'phone_number': 'Número de Teléfono',
        'save_changes': 'Guardar Cambios',
        'change_password': 'Cambiar Contraseña',
        'current_password': 'Contraseña Actual',
        'new_password': 'Nueva Contraseña',
        'confirm_password': 'Confirmar Nueva Contraseña',
        'update_password': 'Actualizar Contraseña',
        
        // Notifications
        'notification_preferences': 'Preferencias de Notificaciones',
        'push_notifications': 'Notificaciones Push',
        'order_status': 'Estado del Pedido',
        'order_status_desc': 'Actualizaciones en tiempo real de tus pedidos',
        'cart_reminder': 'Recordatorios del Carrito',
        'cart_reminder_desc': 'Recibe recordatorios sobre artículos dejados en tu carrito',
        
        // Privacy
        'login_history': 'Historial de Inicio de Sesión',
        'data_privacy': 'Datos y Privacidad',
        'download_data': 'Descargar Tus Datos',
        'request_data': 'Solicitar Datos',
        'delete_account': 'Eliminar Cuenta',
        'refresh_history': 'Actualizar Historial',
        
        // Payment
        'default_payment': 'Establecer como Predeterminado',
        'add_payment': 'Agregar Método de Pago',
        'save_preferences': 'Guardar Preferencias',
        
        // Shipping
        'add_new_address': 'Agregar Nueva Dirección',
        'set_as_default': 'Establecer como Predeterminado',
        'edit': 'Editar',
        'delete': 'Eliminar',
        'default': 'Predeterminado',
        
        // Footer
        'about_us': 'Acerca de Nosotros',
        'products': 'Productos',
        'contact': 'Contacto',
        'quick_links': 'Enlaces Rápidos',
        'contact_info': 'Información de Contacto',
        'follow_us': 'Síguenos',
        
        // Buttons
        'logout': 'Cerrar Sesión',
        'cancel': 'Cancelar',
        'save': 'Guardar',
        'close': 'Cerrar',
        
        // Messages
        'language_updated': 'Idioma actualizado exitosamente',
        'loading': 'Cargando...',
        'no_data': 'No se encontraron datos',
        
        // Placeholders
        'enter_full_name': 'Ingrese nombre completo',
        'enter_email': 'Ingrese dirección de correo',
        'enter_phone': 'Ingrese número de teléfono',
        'enter_current_password': 'Ingrese contraseña actual',
        'enter_new_password': 'Ingrese nueva contraseña',
        'confirm_new_password': 'Confirme nueva contraseña'
    },
    
    zh: {
        // Settings Menu
        'language_menu': '语言',
        'language_settings': '语言',
        'select_language': '选择语言',
        'language_note': '更改语言将更新整个系统中的所有文本。',
        
        // Common
        'home': '首页',
        'explore': '探索',
        'saved': '已保存',
        'cart': '购物车',
        'contact_us': '联系我们',
        'settings': '设置',
        'search': '搜索',
        'notifications': '通知',
        'messages': '消息',
        'profile': '个人资料',
        
        // Settings Sections
        'account': '账户',
        'notifications': '通知',
        'privacy_security': '隐私和安全',
        'payment_methods': '付款方式',
        'shipping_addresses': '送货地址',
        'couriers': '快递',
        'help_support': '帮助和支持',
        
        // Account
        'account_information': '账户信息',
        'full_name': '全名',
        'email_address': '电子邮件地址',
        'phone_number': '电话号码',
        'save_changes': '保存更改',
        'change_password': '更改密码',
        'current_password': '当前密码',
        'new_password': '新密码',
        'confirm_password': '确认新密码',
        'update_password': '更新密码',
        
        // Notifications
        'notification_preferences': '通知偏好',
        'push_notifications': '推送通知',
        'order_status': '订单状态',
        'order_status_desc': '订单的实时更新',
        'cart_reminder': '购物车提醒',
        'cart_reminder_desc': '收到关于购物车中剩余商品的提醒',
        
        // Privacy
        'login_history': '登录历史',
        'data_privacy': '数据和隐私',
        'download_data': '下载您的数据',
        'request_data': '请求数据',
        'delete_account': '删除账户',
        'refresh_history': '刷新历史',
        
        // Payment
        'default_payment': '设为默认',
        'add_payment': '添加付款方式',
        'save_preferences': '保存偏好',
        
        // Shipping
        'add_new_address': '添加新地址',
        'set_as_default': '设为默认',
        'edit': '编辑',
        'delete': '删除',
        'default': '默认',
        
        // Footer
        'about_us': '关于我们',
        'products': '产品',
        'contact': '联系',
        'quick_links': '快速链接',
        'contact_info': '联系信息',
        'follow_us': '关注我们',
        
        // Buttons
        'logout': '登出',
        'cancel': '取消',
        'save': '保存',
        'close': '关闭',
        
        // Messages
        'language_updated': '语言更新成功',
        'loading': '加载中...',
        'no_data': '未找到数据',
        
        // Placeholders
        'enter_full_name': '输入全名',
        'enter_email': '输入电子邮件地址',
        'enter_phone': '输入电话号码',
        'enter_current_password': '输入当前密码',
        'enter_new_password': '输入新密码',
        'confirm_new_password': '确认新密码'
    }
};

// Get current language
function getCurrentLanguage() {
    return localStorage.getItem('jbr7_language') || 'en';
}

// Translate text
function translate(key, lang = null) {
    const currentLang = lang || getCurrentLanguage();
    return translations[currentLang]?.[key] || translations['en'][key] || key;
}

// Apply translations to page
function applyTranslations(lang = null) {
    const currentLang = lang || getCurrentLanguage();
    
    // Translate all elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        const translated = translate(key, currentLang);
        
        if (element.tagName === 'INPUT' && (element.type === 'text' || element.type === 'email' || element.type === 'tel')) {
            // For input fields, update placeholder if it has data-translate-placeholder
            const placeholderKey = element.getAttribute('data-translate-placeholder');
            if (placeholderKey) {
                element.placeholder = translate(placeholderKey, currentLang);
            }
        } else if (element.tagName === 'INPUT' && element.type === 'submit' || element.tagName === 'BUTTON') {
            element.textContent = translated;
        } else {
            element.textContent = translated;
        }
    });
    
    // Translate placeholders separately
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (key && (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA')) {
            element.placeholder = translate(key, currentLang);
        }
    });
    
    // Update language selector
    const langSelector = document.getElementById('language-selector');
    if (langSelector) {
        langSelector.value = currentLang;
    }
}

// Change language
function changeLanguage(lang) {
    if (!translations[lang]) {
        console.error('Language not supported:', lang);
        return;
    }
    
    localStorage.setItem('jbr7_language', lang);
    applyTranslations(lang);
    
    // Show notification if function exists
    if (typeof showNotification === 'function') {
        showNotification(translate('language_updated', lang), 'success');
    } else {
        console.log('Language changed to:', lang);
    }
}

// Initialize language on page load
function initializeLanguage() {
    const savedLang = getCurrentLanguage();
    applyTranslations(savedLang);
}

// Expose functions globally
window.translate = translate;
window.changeLanguage = changeLanguage;
window.applyTranslations = applyTranslations;
window.getCurrentLanguage = getCurrentLanguage;

// Initialize on page load
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeLanguage);
} else {
    initializeLanguage();
}
